<!doctype html><html class=position-relative itemscope itemtype=http://schema.org/WebPage lang=zh-cn data-theme=auto data-bs-theme=auto data-palette=blue-gray><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>android的属性动画 - 琴弦第七</title><link rel=icon href=https://www.qinxiandiqi.sbs/favicon_huc1d2ba7c7d6d5aa3e01f2f328b911c53_11507_16x16_resize_box_3.png sizes=16x16 type=image/png><link rel=icon href=https://www.qinxiandiqi.sbs/favicon_huc1d2ba7c7d6d5aa3e01f2f328b911c53_11507_32x32_resize_box_3.png sizes=32x32 type=image/png><link rel=apple-touch-icon href=https://www.qinxiandiqi.sbs/favicon_huc1d2ba7c7d6d5aa3e01f2f328b911c53_11507_180x180_resize_box_3.png sizes=180x180 type=image/png><link rel=icon href=https://www.qinxiandiqi.sbs/favicon_huc1d2ba7c7d6d5aa3e01f2f328b911c53_11507_150x150_resize_box_3.png sizes=150x150 type=image/png><link rel=icon href=https://www.qinxiandiqi.sbs/favicon_huc1d2ba7c7d6d5aa3e01f2f328b911c53_11507_192x192_resize_box_3.png sizes=192x192 type=image/png><link rel=mask-icon href=https://www.qinxiandiqi.sbs/safari-pinned-tab.svg color=#6f42c1><link rel=icon href="https://www.qinxiandiqi.sbs/images/icons/favicon.ico?version=2a4098caa2eb82a1f873269b3ff57965"><meta name=keywords content><meta name=description content="属性动画（Property Animation）系统是一个更加强大的框架，它几乎允许你为任何东西设置动画。不管一个对象是否需要绘制到屏幕上面，你都可以定义一个动画让这个对象的属性随着时间推移而改变。一个属性动画可以在规定的时间内改变一个属性值（对象的一个成员变量）。设定动画，你需要指定对象中需要设定动画的属性，例如对象在屏幕上的坐标，动画需要执行的时间，以及动画过程中属性的变化值。"><meta name=robots content="index, follow"><meta name=twitter:card content="summary"><meta name=twitter:title content="android的属性动画"><meta name=twitter:description content="属性动画（Property Animation）系统是一个更加强大的框架，它几乎允许你为任何东西设置动画。不管一个对象是否需要绘制到屏幕上面，你都可以定义一个动画让这个对象的属性随着时间推移而改变。一个属性动画可以在规定的时间内改变一个属性值（对象的一个成员变量）。设定动画，你需要指定对象中需要设定动画的属性，例如对象在屏幕上的坐标，动画需要执行的时间，以及动画过程中属性的变化值。"><meta name=twitter:site content="@qinxiandiqi"><meta property="og:title" content="android的属性动画"><meta property="og:description" content="属性动画（Property Animation）系统是一个更加强大的框架，它几乎允许你为任何东西设置动画。不管一个对象是否需要绘制到屏幕上面，你都可以定义一个动画让这个对象的属性随着时间推移而改变。一个属性动画可以在规定的时间内改变一个属性值（对象的一个成员变量）。设定动画，你需要指定对象中需要设定动画的属性，例如对象在屏幕上的坐标，动画需要执行的时间，以及动画过程中属性的变化值。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%B1%9E%E6%80%A7%E5%8A%A8%E7%94%BB/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-06-20T12:48:17+08:00"><meta property="article:modified_time" content="2016-06-20T12:48:17+08:00"><meta property="og:see_also" content="https://www.qinxiandiqi.sbs/posts/android/adb%E7%9A%84%E5%A4%9A%E8%AE%BE%E5%A4%87%E6%93%8D%E4%BD%9C/"><meta property="og:see_also" content="https://www.qinxiandiqi.sbs/posts/android/%E4%BD%BF%E7%94%A8adb%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC%E5%88%B0%E8%AE%BE%E5%A4%87%E4%B8%8A/"><meta property="og:see_also" content="https://www.qinxiandiqi.sbs/posts/android/%E6%9F%A5%E8%AF%A2apk%E7%9A%84%E7%AD%BE%E5%90%8D%E6%8C%87%E7%BA%B9/"><meta property="og:see_also" content="https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7/"><meta property="og:see_also" content="https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%AE%9A%E4%BD%8D%E7%AD%96%E7%95%A5/"><meta itemprop=name content="android的属性动画"><meta itemprop=description content="属性动画（Property Animation）系统是一个更加强大的框架，它几乎允许你为任何东西设置动画。不管一个对象是否需要绘制到屏幕上面，你都可以定义一个动画让这个对象的属性随着时间推移而改变。一个属性动画可以在规定的时间内改变一个属性值（对象的一个成员变量）。设定动画，你需要指定对象中需要设定动画的属性，例如对象在屏幕上的坐标，动画需要执行的时间，以及动画过程中属性的变化值。"><meta itemprop=datePublished content="2016-06-20T12:48:17+08:00"><meta itemprop=dateModified content="2016-06-20T12:48:17+08:00"><meta itemprop=wordCount content="11544"><meta itemprop=keywords content="android,属性动画,动画,"><meta property="og:image" content="https://www.qinxiandiqi.sbs/images/logo.png"><meta name=twitter:image content="https://www.qinxiandiqi.sbs/images/logo.png"><link rel=manifest href=https://www.qinxiandiqi.sbs/manifest.json><link data-precache rel=stylesheet href="https://www.qinxiandiqi.sbs/assets/main/bundle.min.4d0a628e427af2df862b411feced006985e5e7f4abf1d52b690dcf44facac475.css" integrity="sha256-TQpijkJ68t+GK0Ef7O0AaYXl5/Sr8dUraQ3PRPrKxHU=" crossorigin=anonymous><link data-precache rel=stylesheet href=https://www.qinxiandiqi.sbs/assets/viewer/bundle.min.6d0fc65b8b058ac563091dc5c36f61afba5dd705058680aa24f1d5a3bcf0064d.css integrity="sha256-bQ/GW4sFisVjCR3Fw29hr7pd1wUFhoCqJPHVo7zwBk0=" crossorigin=anonymous></head><body><script>const items=["theme","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs:"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="top-app-bar shadow navbar navbar-expand-lg fixed-top"><div class=container><a class="navbar-brand d-flex align-items-center flex-grow-1 flex-lg-grow-0 text-lg-start ms-2 ms-lg-0 mx-auto me-lg-2" href=https://www.qinxiandiqi.sbs/><picture><img class=logo alt=Logo src=https://www.qinxiandiqi.sbs/images/logo.png loading=lazy width=500 height=500>
</picture>琴弦第七</a>
<button class="navbar-toggler order-5" type=button data-bs-toggle=offcanvas data-bs-target=#navbarMenus aria-controls=navbarMenus aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-h"></i></button><div class="offcanvas-lg offcanvas-end flex-grow-1" data-bs-scroll=true tabindex=-1 id=navbarMenus aria-labelledby=navbarMenusLabel><div class="offcanvas-header px-4 pb-0"><h5 class=offcanvas-title id=navbarMenusLabel>琴弦第七</h5><button type=button class="btn-close btn-close-white" data-bs-dismiss=offcanvas data-bs-target=#navbarMenus aria-label=Close></button></div><div class="offcanvas-body p-4 pt-0 p-lg-0"><hr class=d-lg-none><ul class="navbar-nav flex-row flex-wrap align-items-center me-auto"><li class="nav-item col-6 col-lg-auto"><a class="nav-link py-2 px-0 px-lg-2" href=https://www.qinxiandiqi.sbs/archives/><i class="fas fa-fw fa-file-archive"></i>归档</a></li><li class="nav-item col-6 col-lg-auto"><a class="nav-link py-2 px-0 px-lg-2" href=https://www.qinxiandiqi.sbs/series/><i class="fas fa-fw fa-columns"></i>专栏</a></li><li class="nav-item col-6 col-lg-auto"><a class="nav-link py-2 px-0 px-lg-2" href=https://www.qinxiandiqi.sbs/categories/><i class="fas fa-fw fa-folder"></i>分类</a></li><li class="nav-item col-6 col-lg-auto"><a class="nav-link py-2 px-0 px-lg-2" href=https://www.qinxiandiqi.sbs/tags/><i class="fas fa-fw fa-tags"></i>标签</a></li></ul><hr class=d-lg-none><form class="search-bar ms-auto my-1" action=https://www.qinxiandiqi.sbs/search/ novalidate><div class="input-group input-group-sm align-items-center"><span class="btn btn-search disabled position-absolute left-0 border-0"><i class="fas fa-fw fa-search fa-lg"></i></span>
<input class="py-2 form-control rounded search-input" name=q type=search aria-label=Search required></div></form><hr class=d-lg-none><ul class="navbar-nav flex-row flex-wrap align-items-center ms-md-auto"><li class="nav-item py-2 py-lg-1 col-12 col-lg-auto"><nav class="social-links nav justify-content-center flex-row"><a class="nav-link social-link col-6 col-lg-auto p-1" target=_blank href=https://github.com/qinxiandiqi title=GitHub rel="noopener noreferrer"><i class="fa-fw fab fa-github"></i>
<span class="ms-1 d-lg-none">GitHub</span></a>
<a class="nav-link social-link col-6 col-lg-auto p-1" target=_blank href=https://www.qinxiandiqi.sbs/index.xml title=RSS rel="noopener noreferrer"><i class="fas fa-fw fa-rss"></i>
<span class="ms-1 d-lg-none">RSS</span></a></nav></li><li class="nav-item py-2 py-lg-1 col-12 col-lg-auto"><div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div><hr class="d-lg-none my-2"></li><li class="nav-item dropdown py-1 py-lg-1 col-6 col-lg-auto"><a class="nav-link px-0 px-lg-1" href=# id=languageDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-globe"></i>
<span class=d-lg-none>语言</span></a><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=languageDropdown><li><a class="dropdown-item active" href=https://www.qinxiandiqi.sbs/>简体中文</a></li><li><a class=dropdown-item href=https://www.qinxiandiqi.sbs/en/>English</a></li></ul></li><li class="nav-item py-1 col-12 col-lg-auto"><div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div><hr class="d-lg-none my-2"></li><li class="nav-item dropdown col-6 col-lg-auto"><a class="nav-link px-0 py-2 px-lg-1" href=# id=fontSizeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-font"></i>
<span class=d-lg-none>字体大小</span></a><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=fontSizeDropdown><li><button class="font-size-item dropdown-item" data-size=xs>
特小号</button></li><li><button class="font-size-item dropdown-item" data-size=sm>
小号</button></li><li><button class="font-size-item dropdown-item active" data-size=md>
中等</button></li><li><button class="font-size-item dropdown-item" data-size=lg>
大号</button></li><li><button class="font-size-item dropdown-item" data-size=xl>
特大号</button></li></ul></li><li class="nav-item dropdown col-6 col-lg-auto"><a class="nav-link px-0 py-2 px-lg-1" href=# id=paletteDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-palette"></i>
<span class=d-lg-none>配色</span></a><ul class="dropdown-menu dropdown-menu-end px-2" aria-labelledby=paletteDropdown><div class=row><li class="col-4 my-1"><a role=button id=palette-blue aria-label=蓝色 class="btn btn-sm w-100 palette text-bg-blue" data-palette=blue></a></li><li class="col-4 my-1"><a role=button id=palette-blue-gray aria-label=蓝灰色 class="btn btn-sm w-100 palette text-bg-blue-gray" data-palette=blue-gray></a></li><li class="col-4 my-1"><a role=button id=palette-brown aria-label=棕色 class="btn btn-sm w-100 palette text-bg-brown" data-palette=brown></a></li><li class="col-4 my-1"><a role=button id=palette-cyan aria-label=青色 class="btn btn-sm w-100 palette text-bg-cyan" data-palette=cyan></a></li><li class="col-4 my-1"><a role=button id=palette-green aria-label=绿色 class="btn btn-sm w-100 palette text-bg-green" data-palette=green></a></li><li class="col-4 my-1"><a role=button id=palette-indigo aria-label=靛青色 class="btn btn-sm w-100 palette text-bg-indigo" data-palette=indigo></a></li><li class="col-4 my-1"><a role=button id=palette-orange aria-label=橙色 class="btn btn-sm w-100 palette text-bg-orange" data-palette=orange></a></li><li class="col-4 my-1"><a role=button id=palette-pink aria-label=粉色 class="btn btn-sm w-100 palette text-bg-pink" data-palette=pink></a></li><li class="col-4 my-1"><a role=button id=palette-purple aria-label=紫色 class="btn btn-sm w-100 palette text-bg-purple" data-palette=purple></a></li><li class="col-4 my-1"><a role=button id=palette-red aria-label=红色 class="btn btn-sm w-100 palette text-bg-red" data-palette=red></a></li><li class="col-4 my-1"><a role=button id=palette-teal aria-label=蓝绿色 class="btn btn-sm w-100 palette text-bg-teal" data-palette=teal></a></li><li class="col-4 my-1"><a role=button id=palette-yellow aria-label=黄色 class="btn btn-sm w-100 palette text-bg-yellow" data-palette=yellow></a></li></div></ul></li><li class="nav-item dropdown col-6 col-lg-auto"><a class="nav-link px-0 py-2 px-lg-1" href=# id=modeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="mode-icon fas fa-fw fa-adjust" id=modeIcon></i>
<span class=d-lg-none>模式</span></a><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=modeDropdown><li class=mode-item data-color-mode=light data-icon=sun><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-sun"></i> Light</button></li><li class=mode-item data-color-mode=dark data-icon=moon><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-moon"></i> Dark</button></li><li class="mode-item active" data-color-mode=auto data-icon=adjust><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-adjust"></i> Auto</button></li></ul></li></ul></div></div></div></nav></header><main class=container><div class="row content"><noscript><div class="alert alert-danger" role=alert>你的浏览器不支持 JavaScript。</div></noscript><aside class="col-lg-4 sidebar d-flex order-lg-5"><div class="container d-flex flex-column"><div class="accordion profile"><div class="accordion-item card row text-center component"><div class="accordion-header card-header border-0" id=profile-header><a class="accordion-button d-lg-none mb-2 collapsed shadow-none p-0 bg-transparent text-surface" type=button data-bs-toggle=collapse data-bs-target=#profile aria-expanded=false aria-controls=profile>Profile</a></div><div class="card-body collapse accordion-collapse accordion-body d-lg-block" id=profile aria-labelledby=profile-header><div class="col-12 d-flex align-items-center justify-content-center"><picture><img class="profile-avatar rounded-circle" alt=Jianan src=https://www.qinxiandiqi.sbs/images/profile.png loading=lazy data-viewer-invisible width=500 height=500></picture></div><div class="col-12 profile-meta"><div class="profile-name fw-fold fs-lg">Jianan</div><div class=profile-bio>今天做点什么呢？</div><div class="profile-about text-primary"><i class="fas fa-fw fa-user"></i><a href=https://www.qinxiandiqi.sbs/about/>关于我</a></div><div class="profile-contact text-primary"><i class="fas fa-fw fa-question-circle"></i><a href=https://www.qinxiandiqi.sbs/contact/>联系我</a></div></div><nav class="social-links nav justify-content-center mt-1 justify-content-around"><a class="nav-link social-link" href=mailto:qinxiandiqi@foxmail.com title=Email><i class="fas fa-fw fa-2x fa-envelope"></i></a>
<a class="nav-link social-link" target=_blank href=https://github.com/qinxiandiqi title=GitHub rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-github"></i></a>
<a class="nav-link social-link" target=_blank href=https://twitter.com/qinxiandiqi title=Twitter rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-twitter"></i></a>
<a class="nav-link social-link" target=_blank href=https://weibo.com/qinxiandiqi title=Weibo rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-weibo"></i></a>
<a class="nav-link social-link" target=_blank href=https://www.zhihu.com/people/qinxiandiqi title=Zhihu rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-zhihu"></i></a></nav></div></div></div><div class="accordion taxonomies-toggle"><section class="row card component accordion-item"><div class="accordion-header card-header border-0"><a class="accordion-button d-lg-none mb-1 collapsed shadow-none p-0 bg-transparent" type=button data-bs-toggle=collapse data-bs-target=#taxonomies-toggle aria-expanded=false aria-controls=taxonomies-toggle>Taxonomies</a></div><div class="card-body collapse accordion-collapse accordion-body d-lg-block" id=taxonomies-toggle><ul class="nav nav-pills nav-fill" id=myTab role=tablist><li class=nav-item role=presentation><button class="nav-link active" id=taxonomySeriesTab data-bs-toggle=tab data-bs-target=#taxonomySeries type=button role=tab aria-controls=专栏 aria-selected=true>
专栏</button></li><li class=nav-item role=presentation><button class=nav-link id=taxonomyCategoriesTab data-bs-toggle=tab data-bs-target=#taxonomyCategories type=button role=tab aria-controls=分类 aria-selected=true>
分类</button></li><li class=nav-item role=presentation><button class=nav-link id=taxonomyTagsTab data-bs-toggle=tab data-bs-target=#taxonomyTags type=button role=tab aria-controls=标签 aria-selected=true>
标签</button></li><li class=nav-item role=presentation><button class=nav-link id=taxonomyAuthorsTab data-bs-toggle=tab data-bs-target=#taxonomyAuthors type=button role=tab aria-controls=作者 aria-selected=true>
作者</button></li><li class=nav-item role=presentation><button class=nav-link id=taxonomyArchivesTab data-bs-toggle=tab data-bs-target=#taxonomyArchive type=button role=tab aria-controls=taxonomyArchives aria-selected=true>
归档</button></li></ul><div class="tab-content mt-3"><div class="tab-pane active" id=taxonomySeries role=tabpanel aria-labelledby=taxonomySeriesTab tabindex=0><a href=https://www.qinxiandiqi.sbs/series/raspberry/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=RaspBerry>RaspBerry
<span class="badge badge-sm text-secondary bg-white ms-1">27</span></a>
<a href=https://www.qinxiandiqi.sbs/series/android/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=Android>Android
<span class="badge badge-sm text-secondary bg-white ms-1">24</span></a>
<a href=https://www.qinxiandiqi.sbs/series/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=Java学习笔记>Java学习笔记
<span class="badge badge-sm text-secondary bg-white ms-1">17</span></a>
<a href=https://www.qinxiandiqi.sbs/series/javaweb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=JavaWeb学习笔记>JavaWeb学习笔记
<span class="badge badge-sm text-secondary bg-white ms-1">12</span></a>
<a href=https://www.qinxiandiqi.sbs/series/android-wear/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title="Android Wear">Android Wear
<span class="badge badge-sm text-secondary bg-white ms-1">11</span></a>
<a href=https://www.qinxiandiqi.sbs/series/libgdx/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=libGDX>libGDX
<span class="badge badge-sm text-secondary bg-white ms-1">8</span></a>
<a href=https://www.qinxiandiqi.sbs/series/libgdx%E6%89%8B%E5%86%8C/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=libGDX手册>libGDX手册
<span class="badge badge-sm text-secondary bg-white ms-1">7</span></a>
<a href=https://www.qinxiandiqi.sbs/series/android-gradle/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title="Android Gradle">Android Gradle
<span class="badge badge-sm text-secondary bg-white ms-1">6</span></a>
<a href=https://www.qinxiandiqi.sbs/series/javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=JavaScript学习笔记>JavaScript学习笔记
<span class="badge badge-sm text-secondary bg-white ms-1">6</span></a>
<a href=https://www.qinxiandiqi.sbs/series/ide/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=IDE>IDE
<span class="badge badge-sm text-secondary bg-white ms-1">5</span></a>
<a href=https://www.qinxiandiqi.sbs/series class="btn btn-sm btn-secondary post-taxonomy ps-3 post-series me-2 mb-2" title=全部>全部
<span class="badge badge-sm text-secondary bg-white ms-1">30</span></a></div><div class=tab-pane id=taxonomyCategories role=tabpanel aria-labelledby=taxonomyCategoriesTab tabindex=0><a href=https://www.qinxiandiqi.sbs/categories/%E7%BF%BB%E8%AF%91/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=翻译>翻译
<span class="badge badge-sm text-secondary bg-white ms-1">67</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/raspberry/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=RaspBerry>RaspBerry
<span class="badge badge-sm text-secondary bg-white ms-1">27</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/android/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=Android>Android
<span class="badge badge-sm text-secondary bg-white ms-1">24</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/javaweb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=JavaWeb学习笔记>JavaWeb学习笔记
<span class="badge badge-sm text-secondary bg-white ms-1">12</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/android-wear/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title="Android Wear">Android Wear
<span class="badge badge-sm text-secondary bg-white ms-1">11</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/libgdx/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=libGDX>libGDX
<span class="badge badge-sm text-secondary bg-white ms-1">8</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/libgdx%E6%89%8B%E5%86%8C/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=libGDX手册>libGDX手册
<span class="badge badge-sm text-secondary bg-white ms-1">7</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/android-gradle/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title="Android Gradle">Android Gradle
<span class="badge badge-sm text-secondary bg-white ms-1">6</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=JavaScript学习笔记>JavaScript学习笔记
<span class="badge badge-sm text-secondary bg-white ms-1">6</span></a>
<a href=https://www.qinxiandiqi.sbs/categories/ide/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=IDE>IDE
<span class="badge badge-sm text-secondary bg-white ms-1">5</span></a>
<a href=https://www.qinxiandiqi.sbs/categories class="btn btn-sm btn-secondary post-taxonomy ps-3 post-category me-2 mb-2" title=全部>全部
<span class="badge badge-sm text-secondary bg-white ms-1">32</span></a></div><div class=tab-pane id=taxonomyTags role=tabpanel aria-labelledby=taxonomyTagsTab tabindex=0><a href=https://www.qinxiandiqi.sbs/tags/android/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=Android>Android
<span class="badge badge-sm text-secondary bg-white ms-1">33</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/java/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=java>java
<span class="badge badge-sm text-secondary bg-white ms-1">31</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=树莓派>树莓派
<span class="badge badge-sm text-secondary bg-white ms-1">28</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/raspberry/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=RaspBerry>RaspBerry
<span class="badge badge-sm text-secondary bg-white ms-1">27</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/android-wear/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title="Android Wear">Android Wear
<span class="badge badge-sm text-secondary bg-white ms-1">11</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/javaweb/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=javaweb>javaweb
<span class="badge badge-sm text-secondary bg-white ms-1">11</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/%E5%8F%AF%E7%A9%BF%E6%88%B4%E8%AE%BE%E5%A4%87/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=可穿戴设备>可穿戴设备
<span class="badge badge-sm text-secondary bg-white ms-1">9</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/libgdx/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=libgdx>libgdx
<span class="badge badge-sm text-secondary bg-white ms-1">8</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/javascript/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=javascript>javascript
<span class="badge badge-sm text-secondary bg-white ms-1">7</span></a>
<a href=https://www.qinxiandiqi.sbs/tags/xml/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=xml>xml
<span class="badge badge-sm text-secondary bg-white ms-1">7</span></a>
<a href=https://www.qinxiandiqi.sbs/tags class="btn btn-sm btn-secondary post-taxonomy ps-3 post-tag me-2 mb-2" title=全部>全部
<span class="badge badge-sm text-secondary bg-white ms-1">317</span></a></div><div class=tab-pane id=taxonomyAuthors role=tabpanel aria-labelledby=taxonomyAuthorsTab tabindex=0><a href=https://www.qinxiandiqi.sbs/authors/jianan/ class="btn btn-sm btn-secondary post-taxonomy ps-3 post-author me-2 mb-2" title=Jianan>Jianan
<span class="badge badge-sm text-secondary bg-white ms-1">151</span></a></div><div class=tab-pane id=taxonomyArchive role=tabpanel aria-labelledby=taxonomyArchiveTab tabindex=0><a href class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2023>2023 <span class="badge badge-sm text-secondary bg-white ms-1">4</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2022/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2022>2022 <span class="badge badge-sm text-secondary bg-white ms-1">8</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2021/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2021>2021 <span class="badge badge-sm text-secondary bg-white ms-1">1</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2020/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2020>2020 <span class="badge badge-sm text-secondary bg-white ms-1">2</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2018/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2018>2018 <span class="badge badge-sm text-secondary bg-white ms-1">7</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2017/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2017>2017 <span class="badge badge-sm text-secondary bg-white ms-1">2</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2016/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2016>2016 <span class="badge badge-sm text-secondary bg-white ms-1">7</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2015/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2015>2015 <span class="badge badge-sm text-secondary bg-white ms-1">21</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2014/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2014>2014 <span class="badge badge-sm text-secondary bg-white ms-1">93</span></a>
<a href=https://www.qinxiandiqi.sbs/archives/2012/ class="btn btn-sm btn-secondary post-taxonomy ps-3 me-2 mb-2" title=2012>2012 <span class="badge badge-sm text-secondary bg-white ms-1">6</span></a></div></div></div></section></div><div class="accordion posts-toggle"><section class="row card component accordion-item"><div class="accordion-header card-header border-0"><a class="accordion-button d-lg-none mb-1 collapsed shadow-none p-0 bg-transparent" type=button data-bs-toggle=collapse data-bs-target=#posts-toggle aria-expanded=false aria-controls=posts-toggle>文章</a></div><div class="card-body collapse accordion-collapse accordion-body d-lg-block" id=posts-toggle><ul class="nav nav-pills nav-fill" id=myTab role=tablist><li class=nav-item role=presentation><button class="nav-link active" id=recent-posts-tab data-bs-toggle=tab data-bs-target=#recent-posts type=button role=tab aria-controls=recent-posts aria-selected=true>
最近文章</button></li></ul><div class="tab-content mt-3"><div class="tab-pane active" id=recent-posts role=tabpanel aria-labelledby=recent-posts-tab tabindex=0><ul class="post-list list-unstyled ms-1"><li class=mb-2><div class=d-flex><div class="flex-grow-1 d-flex flex-column h-auto justify-content-center"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/c%E5%92%8Cc++/c%E8%AF%AD%E8%A8%80%E7%9A%84fopen%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%88%B0%E5%BA%95%E7%9B%B8%E5%AF%B9%E5%93%AA/>C语言的fopen文件操作相对路径到底相对哪？</a><div class="post-meta mt-2"><span class=post-date>2023-02-02</span></div></div></div></li><li class=mb-2><div class=d-flex><div class="flex-grow-1 d-flex flex-column h-auto justify-content-center"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/%E7%AB%99%E9%95%BF%E4%BF%AE%E7%82%BC%E7%AC%94%E8%AE%B0/%E8%85%BE%E8%AE%AF%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A5%87%E5%A6%99%E7%9A%84502/>腾讯云服务器奇妙的502</a><div class="post-meta mt-2"><span class=post-date>2023-01-12</span></div></div></div></li><li class=mb-2><div class=d-flex><div class="flex-grow-1 d-flex flex-column h-auto justify-content-center"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/adb%E7%9A%84%E5%A4%9A%E8%AE%BE%E5%A4%87%E6%93%8D%E4%BD%9C/>Adb的多设备操作</a><div class="post-meta mt-2"><span class=post-date>2023-01-08</span></div></div></div></li><li class=mb-2><div class=d-flex><div class="flex-grow-1 d-flex flex-column h-auto justify-content-center"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/%E4%BD%BF%E7%94%A8adb%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC%E5%88%B0%E8%AE%BE%E5%A4%87%E4%B8%8A/>使用adb复制文本到设备上</a><div class="post-meta mt-2"><span class=post-date>2023-01-05</span></div></div></div></li><li class=mb-2><div class=d-flex><div class="flex-grow-1 d-flex flex-column h-auto justify-content-center"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/sqlite%E6%8F%92%E5%85%A5%E6%88%96%E6%9B%B4%E6%96%B0%E9%83%A8%E5%88%86%E5%AD%97%E6%AE%B5/>SQLite插入或更新部分字段</a><div class="post-meta mt-2"><span class=post-date>2022-12-18</span></div></div></div></li></ul></div></div></div></section></div></div></aside><div class=col-lg-8><div class=container><nav class="row card component" aria-label=breadcrumb><div class="card-body pb-0"><ol class=breadcrumb><li class="breadcrumb-item text-surface"><a href=https://www.qinxiandiqi.sbs/>主页</a></li><li class="breadcrumb-item text-surface"><a href=https://www.qinxiandiqi.sbs/posts/>Posts</a></li><li class="breadcrumb-item active">Android的属性动画</li></ol></div></nav><div class="post-panel-wrapper position-sticky"><div class="d-flex flex-column component rounded post-panel position-absolute border"><a class="action action-panel-toggler" role=button title="Panel toggler"><i class="fas fa-fw fa-chevron-circle-down"></i></a>
<a id=sidebarToggler class="action d-none d-lg-block" role=button title="Sidebar toggler"><i class="fas fa-fw fa-expand-alt" data-fa-transform=rotate-45></i></a>
<a class="action btn-reward" role=button data-bs-toggle=modal data-bs-target=#rewardModal title=打赏><i class="fas fa-fw fa-coffee"></i></a>
<a class=action href=#post-copyright role=button aria-label=Copyright title=Copyright><i class="fas fa-fw fa-copyright"></i></a>
<a class=action href=#post-comments role=button aria-label=Comments title=Comments><i class="fas fa-fw fa-comments"></i></a></div></div><article class="row card component mb-4 post"><div class=card-header><h1 class="card-title post-title my-2">Android的属性动画</h1></div><div class=card-body><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script>window.onload=function(){var e=document.getElementById("busuanzi_value_page_pv"),t=parseInt(e.innerText),n=4221;e.innerText=t+n,console.log(t)}</script><div class="post-meta mb-3"><span class="post-date me-1 mb-1" title="创建于 2016-06-20 04:48:17 +0000 UTC。">2016-06-20</span><span class="post-reading-time me-1 mb-1">24 分钟阅读</span>
<span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span>次阅读</span><a href=https://www.qinxiandiqi.sbs/authors/jianan/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-author">
<i class="fas fa-fw fa-user me-1"></i>Jianan</a><a href=https://www.qinxiandiqi.sbs/categories/android/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-category">
<i class="fas fa-fw fa-folder me-1"></i>Android</a><a href=https://www.qinxiandiqi.sbs/categories/%E7%BF%BB%E8%AF%91/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-category">
<i class="fas fa-fw fa-folder me-1"></i>翻译</a><a href=https://www.qinxiandiqi.sbs/series/android/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-series">
<i class="fas fa-fw fa-columns me-1"></i>Android</a><a href=https://www.qinxiandiqi.sbs/tags/android/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-tag">Android</a><a href=https://www.qinxiandiqi.sbs/tags/%E5%8A%A8%E7%94%BB/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-tag">动画</a><a href=https://www.qinxiandiqi.sbs/tags/%E5%B1%9E%E6%80%A7%E5%8A%A8%E7%94%BB/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-tag">属性动画</a></div><div class="post-content mb-3" data-bs-spy=scroll data-bs-target=#TableOfContents tabindex=0><blockquote><p>原文作者：Google
原文地址：<a href=https://developer.android.com/guide/topics/graphics/prop-animation.html target=_blank rel="noopener noreferrer">https://developer.android.com/guide/topics/graphics/prop-animation.html<i class="fas fa-external-link-square-alt ms-1"></i></a><br>原文版权：<a href=http://creativecommons.org/licenses/by/2.5/ target=_blank rel="noopener noreferrer">Creative Commons 2.5 Attribution License<i class="fas fa-external-link-square-alt ms-1"></i></a><br>译文作者：Jianan - <a href=mailto:qinxiandiqi@foxmail.com>qinxiandiqi@foxmail.com</a><br>版本信息：本文基于2016-06-17版本翻译<br>译文版权：<a href=http://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank rel="noopener noreferrer">CC BY-NC-ND 4.0<i class="fas fa-external-link-square-alt ms-1"></i></a>，允许复制转载，但必须保留译文作者署名及译文链接，不得演绎和用于商业用途</p></blockquote><p>属性动画（Property Animation）系统是一个更加强大的框架，它几乎允许你为任何东西设置动画。不管一个对象是否需要绘制到屏幕上面，你都可以定义一个动画让这个对象的属性随着时间推移而改变。一个属性动画可以在规定的时间内改变一个属性值（对象的一个成员变量）。设定动画，你需要指定对象中需要设定动画的属性，例如对象在屏幕上的坐标，动画需要执行的时间，以及动画过程中属性的变化值。</p><p>属性动画系统允许你为一个动画设定以下属性：</p><ul><li>时长：你可以指定动画的时长。默认的动画时长是300毫秒。</li><li>时间插值器：你可以设定一个根据当前动画已经执行的时间计算出对应属性值的方法（它被称为时间插值器）。</li><li>重复次数和行为：你可以设定当动画结束之后是否需要自动重复执行，以及可以重复执行多少次。你同样也可以设定动画是否需要反向回放，设定动画来回反复反向回放，直到完成动画设定的重复次数。</li><li>动画组：你可以在一个动画组里面逻辑嵌套多个动画，让这些动画同时播放，或者顺序播放，或者延迟一定的时间后播放。</li><li>延迟帧刷新：你可以设定动画帧与帧之间的刷新频率。默认设定是每10毫秒刷新一次，但你的应用程序实际刷新的帧频率最终还是要取决于整体系统的繁忙程度，以及系统底层能够支持的定时器有多快。</li></ul><p>首先，我们通过一个简单的示例来了解下动画的工作过程。图1假设了一个对象需要对它的x属性设定动画，这个x属性代表这个对象在屏幕上面的横坐标。这个动画的时间设定为40毫秒，以及需要移动的距离是40个像素。每过10毫秒（默认的帧频率），这个对象就会在水平方向上移动10个像素。等到40毫秒之后，这个动画停止，对象在水平方向上总共移动了40个像素。这个例子中的动画使用了一个线性插值器，意味着这个对象以匀速移动。</p><p><picture><img class=img-fluid alt=animation-linear.png src=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%B1%9E%E6%80%A7%E5%8A%A8%E7%94%BB/1005e540c862f3b510c9d2fb34ce8fae.png loading=lazy width=568 height=166></picture></p><p>图1：线性动画示例</p><p>你也可以设定动画使用一个非线性插值器。图2演示了一个假设的对象在动画的一开始进行加速，等动画快结束的时候进行减速。这个对象一样在40毫秒中总共移动40个像素点，但移动是非线性的。在一开始，动画加速移动到中间点，然后从中间点一直减速到动画结束。正如图2所示，一开始和将近结束的时候移动的距离比中间时段移动的距离要小。</p><p><picture><img class=img-fluid alt=animation-nonlinear.png src=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%B1%9E%E6%80%A7%E5%8A%A8%E7%94%BB/c44323fba92aa1b97b288360cf40eae7.png loading=lazy width=568 height=167></picture></p><p>图2：非线性动画示例</p><p>让我们来仔细看一下属性动画系统的重要组成部分是如何像上面的插图一样计算动画的。图3描述了属性动画系统中一些主要类之间的相互关系。</p><p><picture><img class=img-fluid alt=valueanimator.png src=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%B1%9E%E6%80%A7%E5%8A%A8%E7%94%BB/81fc56819cdb77aae83df27e82e7cbdf.png loading=lazy width=723 height=240></picture></p><p>图3：动画如何计算</p><p><strong>ValueAnimator</strong>对象负责跟踪动画的时序，比如这个动画已经运行了多久，以及当前的动画属性值是多少。</p><p><strong>ValueAnimator</strong>对象中包含了一个<strong>TimeInterpolator</strong>对象，用来定义动画的插值器；另外还包含了一个<strong>TypeEvaluator</strong>对象，这个对象定义了如何根据动画的执行程度计算出对应的属性值。例如，在图2中，<strong>TimeInterpolator</strong>使用的是<strong>AccelerateDecelerateInterpolator</strong>，<strong>TypeEvaluator</strong>使用的是<strong>IntEvaluator</strong>。</p><p>启动一个动画，需要创建一个ValueAnimator对象，并给它设定动画开始和结束时的属性值，以及动画的执行时间。当你调用**start()**方法启动动画，在整个动画执行期间，ValueAnimator会基于整个动画需要执行的时间以及当前已经执行的动画时间，计算出一个从0到1的值，表示已消耗的时间比例。这个已消耗的时间比例代表了动画已完成的百分比，0表示0%，1就表示100%。例如，在图1中，当t=10ms的时候，这个已消耗的时间比例就是0.25，因为整个动画时长为40ms。</p><p>当ValueAnimator完成了一次已消耗的时间比例计算，它就会调用当前设定的TimeInterpolator去计算对应的（属性）插值比例。插值比例根据所设定的时间插值器将已消耗的时间比例映射到一个新的比例值上。例如，在图2中，由于动画缓慢加速，在t=10ms的时候，它的插值比例大概是0.15，显然比已消耗的时间比例0.25要小，因此在这个时间点上，属性值将会是0.15 * （40-0），也就是6个像素点。</p><p>在<a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/index.html target=_blank rel="noopener noreferrer">API Demo<i class="fas fa-external-link-square-alt ms-1"></i></a>的<strong>com.example.android.apis.animation</strong> 包中提供了一些关于如何使用属性动画系统的实例代码。</p><p>视图动画（View Animation）系统只提供了给View对象设置动画的功能，如果你要给非View对象设置动画，你只能完全依靠自己来实现相关的逻辑代码。实际上，视图动画还受限于只能对View对象的一部分属性设置动画，例如它可以缩放和旋转一个View，但是无法改变view的背景颜色等等。</p><p>视图动画系统还有一个缺点就是它实际上只修改了View对象的绘制位置，而不是View的本身。举个例子，使用视图动画你可以将一个按钮从屏幕上移动过去，这个按钮能够正确的绘制到目标位置上，但这个按钮的点击位置实际上没有随着按钮移动而移动，因此你需要自己实现对应的代码响应逻辑来处理这个问题。</p><p>使用属性动画系统就完全没有这样的限制，你可以给一个对象（View对象或者非View对象）的任意属性设定动画，随着动画的执行，对象的属性也会跟着一起改变。属性动画系统同样提供了更强大的功能来实现动画协作。在更高的等级上，你可以为多个属性添加多个动画（例如颜色、坐标、大小），然后定义动画的各个方面（例如插值器和多个动画同步运作）。</p><p>视图动画系统，相对的，配置起来需要花费的时间会少一点，需要的代码量也会少一点。如果视图动画已经能够满足你所有的要求，或者你现有的代码中已经使用了视图动画，那么你也不是非得使用属性动画系统才可以。在某些特别的情况下，为不同的情景使用不同的动画系统也是合情合理的。</p><p>你可以在<strong>android.animation</strong> 包中找到大部分属性动画系统的API。由于视图动画系统已经在<strong>android.view.animation</strong> 包中定义了很多插值器，你也可以在属性动画系统中直接使用这些插值器。下面的表格中列举了属性动画系统的主要组件。</p><p><strong>Animator</strong> 类中提供了创建动画的基本结构。一般情况下你不需要直接使用这个类，继承这个类只能够提供满足属性动画的最少方法。一般使用的是下面这些Animator的子类：</p><p>表1：Animator</p><table><thead><tr><th>类名</th><th>描述</th></tr></thead><tbody><tr><td>ValueAnimator</td><td>属性动画主要的时序引擎，它还要计算动画过程中的属性值。它包含了全部计算动画值的核心功能，还包含了每一个动画的时序细节、关于动画重复的信息、接收更新事件的监听器、以及设定自定义类型来计算的功能。执行属性动画包含两个部分：计算变化的属性值以及给对象设定计算出来的属性值，属性动画就是这么执行的。ValueAnimator不负责第二部分，因此你需要监听ValueAnimator计算出来的属性值更新，并使用自己的代码逻辑把这些属性值赋值给你想要执行动画的属性。更多细节请参考下面的<strong>使用ValueAnimator执行动画</strong>章节。</td></tr><tr><td>ObjectAnimator</td><td>这是ValueAnimator的一个子类，它允许你设定一个目标对象和目标对象中需要执行动画的属性。这个类会在计算出新的属性值时自动更新对象的属性。大多数情况下，你都会使用ObjectAnimator，因为这个类能让设定目标对象的属性动画更加容易。然而，也有一些情况下需要直接使用ValueAnimator，因为ObjectAnimator有一些限制，例如它需要在目标对象上指定特定的计算方法。</td></tr><tr><td>AnimatorSet</td><td>这个类提供了一个机制来组合多个动画，让动画与动画之间关联起来。你可以设定多个动画同时执行，或者顺序执行，或者延迟一段时间后执行。更多细节请参考下面<strong>使用AnimatorSet编排多个动画</strong>章节。</td></tr><tr><td></td><td></td></tr><tr><td>计算器（Evaluator）用于告知属性动画系统如何计算属性值。它们持有Animator类提供的时序数据，动画的初始值和结束值。动画执行过程中的属性值都依赖于这些时序数据。属性动画系统提供了下列计算器：</td><td></td></tr></tbody></table><p>表2：计算器</p><table><thead><tr><th>类名/接口</th><th>描述</th></tr></thead><tbody><tr><td>IntEvaluator</td><td>默认的用于计算int类型属性的计算器。</td></tr><tr><td>FloatEvaluator</td><td>默认的用于计算float类型属性的计算器。</td></tr><tr><td>ArgbEvaluator</td><td>默认的用于计算16进制颜色值属性的计算器。</td></tr><tr><td>TypeEvaluator</td><td>用于创建自定义计算器的接口。如果你需要设定动画的属性类型不是int、float或者颜色值，那么你就必须实现这个TypeEvaluator接口来定义如何计算动画执行期间的属性值。如果你想要改变int、float或者颜色值类型计算器的默认计算行为，你也可以自定义一个TypeEvaluator实现类来计算这些类型。参考下面<strong>使用TypeEvaluator</strong>章节来获取关于如何自定义计算器的内容。</td></tr><tr><td></td><td></td></tr><tr><td>时间插值器中定义了一个动画执行过程中针对指定值的时间函数。例如，你可以设定动画在整个过程中线性变化，也就是在整个动画过程中动画会一直均匀的移动。同样的，你也可以设定动画使用非线性的时间过渡，例如，动画在一开始的时候加速，在结尾的时候减速。表3中列举了<strong>android.view.animation</strong>包中的插值器。如果没有找到适合你的插值器，你可以实现<strong>TimeInterpolator</strong>接口自定义一个插值器。参考下面<strong>使用插值器</strong>章节获取更多如何自动以插值器的内容。</td><td></td></tr></tbody></table><p>表3：插值器</p><table><thead><tr><th>类/接口</th><th>描述</th></tr></thead><tbody><tr><td>AccelerateDecelerateInterpolator</td><td>这个插值器的速率在动画开始和结束的时候变慢，但是在动画的中间会加速。</td></tr><tr><td>AccelerateInterpolator</td><td>这个插值器的速率会在动画开始的时候缓慢，然后慢慢加速。</td></tr><tr><td>AnticipateInterpolator</td><td>这个插值器会在动画开始的时候向反方向运动，然后再甩回前进方向。</td></tr><tr><td>AnticipateOvershootInterpolator</td><td>这个插值器会在动画开始的时候向反方向运动再甩回前进方向，达到动画结束值之后会继续超过结束值再降回结束值。</td></tr><tr><td>BounceInterpolator</td><td>这个插值器会在动画结束的时候反弹跳动。</td></tr><tr><td>CycleInterpolator</td><td>这个插值器会让动画按照指定的次数反复执行。</td></tr><tr><td>DeceleraterInterpolator</td><td>这个插值器的速率会在动画开始的时候很快，然后不停减速。</td></tr><tr><td>LinearInterpolator</td><td>这个插值器的速率会保持匀速。</td></tr><tr><td>OvershootInterpolator</td><td>这个插值器会让动画在一开始向前甩出去直到超出设定的结束值后再返回到结束值。</td></tr><tr><td>TimeInterpolator</td><td>实现自定义的插值器的接口。</td></tr></tbody></table><p>ValueAnimator类让你通过设定一些类型值，比如一组int、float或者颜色值，在动画执行期间进行动画过渡。你可以调用ValueAnimator的任意一个工厂方法来获取一个ValueAnimator实例：ofInt()，ofFloat()，或者ofObject()。例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ValueAnimator</span> <span class=n>animation</span> <span class=o>=</span> <span class=n>ValueAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=mf>0f</span><span class=o>,</span> <span class=mf>1f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>animation</span><span class=o>.</span><span class=na>setDuration</span><span class=o>(</span><span class=mi>1000</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>animation</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p>在这段代码中，ValueAnimator调用start()方法后，开始在1000毫秒的时间里面从0到1计算动画过程中对应的数值。</p><p>你也可以使用下面的代码指定一个自定义的动画值类型：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ValueAnimator</span> <span class=n>animation</span> <span class=o>=</span> <span class=n>ValueAnimator</span><span class=o>.</span><span class=na>ofObject</span><span class=o>(</span><span class=k>new</span> <span class=n>MyTypeEvaluator</span><span class=o>(),</span> <span class=n>startPropertyValue</span><span class=o>,</span> <span class=n>endPropertyValue</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>animation</span><span class=o>.</span><span class=na>setDuration</span><span class=o>(</span><span class=mi>1000</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>animation</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p>在这段代码中，ValueAnimator调用start()方法之后，开始使用MyTypeEvaluator提供的计算逻辑，在1000毫秒里面从startPropertyValue到endPropertyValue计算动画过程中对应的数值。</p><p>在上面的代码片段中，其实，并不会对任何对象产生影响，因为ValueAnimator不负责直接操作对象或者属性。你可能想要做的事是根据这些计算值修改需要设定动画的对象。为了实现这个功能，你需要实现一个ValueAnimator中的listener，通过listener在动画的生命周期中适当处理一些重要的事件，例如帧更新。当实现这些listener的时候，你可以通过<strong>getAnimatedValue()</strong> 方法获取特定帧刷新时的动画值。更多详细内容，请参考下面的<strong>动画监听器</strong>章节。</p><p>ObjectAnimator是ValueAnimator的一个子类（前面章节已经提过了），它集成了时序引擎和ValueAnimator的计算值能力，能够直接操作目标对象中指定的属性。这就让设定任意对象的动画变得更加容易，因为你不再需要去实现ValueAnimator.AnimatorUpdateListener接口，动画属性会自己自动更新。</p><p>实例化一个ObjectAnimator对象跟ValueAnimator很类似，但除了设定动画起始值之外，还需要指定一个对象，并以字符串的形式传入这个对象中需要设定动画的属性名称：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ObjectAnimator</span> <span class=n>anim</span> <span class=o>=</span> <span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>foo</span><span class=o>,</span> <span class=s>&#34;alpha&#34;</span><span class=o>,</span> <span class=mf>0f</span><span class=o>,</span> <span class=mf>1f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>anim</span><span class=o>.</span><span class=na>setDuration</span><span class=o>(</span><span class=mi>1000</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>anim</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p>为了让ObjectAnimator能够正确更新属性，你必须按照下面步骤操作：</p><ul><li>需要设定动画的对象属性必须按照<strong>set&lt;PropertyName>()</strong> 的形式生成它的setter方法（驼峰风格）。因为ObjectAnimator要在动画执行过程中自动更新属性，它就必须能够通过setter方法访问到这个属性。举个例子，如果属性名是“foo”，你就必须有一个setFoo()方法。如果setter方法真的不存在，你可以有三种选择：<ul><li>如果你有修改这个类的权限，你可以给这个类添加上对应的setter方法。</li><li>使用一个你有权限控制的包装类，在类中使用一个有效的setter方法接收包装值后发送给原对象。</li><li>使用ValueAnimator代替</li></ul></li><li>如果你在ObjectAnimator的工厂方法中给values&mldr;参数只设定了一个值，那么这个值会作为动画的结束值使用。因此，你要设定动画的属性还必须提供一个getter方法，用来获取动画开始的属性初始值。这个getter方法必须按照<strong>get&lt;PropertyName>()</strong> 格式书写。例如，如果这个属性名是“foo”，那么他的getter方法就应该是getFoo()。</li><li>需要设定动画的属性getter（如果需要的话）和setter方法操作的数据类型应该与你在ObjectAnimator中指定的数据类型保持一致。例如，如果你使用下面的方法来构造一个ObjectAnimator对象，你就必须持有targetObject.setPropName(float)和targetObject.getPropName(float)方法：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>targetObject</span><span class=o>,</span> <span class=s>&#34;propName&#34;</span><span class=o>,</span> <span class=mf>1f</span><span class=o>)</span>
</span></span></code></pre></div><ul><li>取决于你设定动画的属性或者对象，你可能需要调用View的<strong>invalidate()</strong> 方法来强制屏幕重新绘制属性值有更新的目标对象。你可以在onAnimationUpdate()回调方法中执行这些操作。例如，要执行一个Drawable对象的颜色属性动画，它只会在屏幕重新绘制这个对象后才能看到颜色动画效果。View对象每一个属性的setter方法，例如setAlpha()和setTranslationX()方法都会自动调用invalidate()来刷新View的属性，因此，当调用这些方法给View设定新的属性值时，不需要调用invalidate()方法。更多关于监听器的细节，请参考下面<strong>动画监听器</strong>章节。</li></ul><p>在一些情况下，你需要在一个动画启动或者结束的同时启动另一个动画。android系统允许你使用一个AnimatorSet捆绑多个动画，这样你就可以设定多个动画是否同时执行，还是顺序或者延迟一段时间后再执行。你甚至可以在AnimatorSet对象中嵌套另一个AnimatorSet对象。</p><p>下面的示例代码取自<a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/BouncingBalls.html target=_blank rel="noopener noreferrer">Bouncing Balls<i class="fas fa-external-link-square-alt ms-1"></i></a>示例项目（为修改方便起见），它按照下面的顺序执行动画：</p><ol><li>执行bounceAnim动画。</li><li>同时执行squashAnim1、squashAnim2、stretchAnim1和stretchAnim2四个动画。</li><li>执行bounceBackAnim动画。</li><li>执行fadeAnim动画。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>AnimatorSet</span> <span class=n>bouncer</span> <span class=o>=</span> <span class=k>new</span> <span class=n>AnimatorSet</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>bouncer</span><span class=o>.</span><span class=na>play</span><span class=o>(</span><span class=n>bounceAnim</span><span class=o>).</span><span class=na>before</span><span class=o>(</span><span class=n>squashAnim1</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>bouncer</span><span class=o>.</span><span class=na>play</span><span class=o>(</span><span class=n>squashAnim1</span><span class=o>).</span><span class=na>with</span><span class=o>(</span><span class=n>squashAnim2</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>bouncer</span><span class=o>.</span><span class=na>play</span><span class=o>(</span><span class=n>squashAnim1</span><span class=o>).</span><span class=na>with</span><span class=o>(</span><span class=n>stretchAnim1</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>bouncer</span><span class=o>.</span><span class=na>play</span><span class=o>(</span><span class=n>squashAnim1</span><span class=o>).</span><span class=na>with</span><span class=o>(</span><span class=n>stretchAnim2</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>bouncer</span><span class=o>.</span><span class=na>play</span><span class=o>(</span><span class=n>bounceBackAnim</span><span class=o>).</span><span class=na>after</span><span class=o>(</span><span class=n>stretchAnim2</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>ValueAnimator</span> <span class=n>fadeAnim</span> <span class=o>=</span> <span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>newBall</span><span class=o>,</span> <span class=s>&#34;alpha&#34;</span><span class=o>,</span> <span class=mf>1f</span><span class=o>,</span> <span class=mf>0f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>fadeAnim</span><span class=o>.</span><span class=na>setDuration</span><span class=o>(</span><span class=mi>250</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>AnimatorSet</span> <span class=n>animatorSet</span> <span class=o>=</span> <span class=k>new</span> <span class=n>AnimatorSet</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>animatorSet</span><span class=o>.</span><span class=na>play</span><span class=o>(</span><span class=n>bouncer</span><span class=o>).</span><span class=na>before</span><span class=o>(</span><span class=n>fadeAnim</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>animatorSet</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p>更多如何使用动画套件的复杂示例，请查看<a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/BouncingBalls.html target=_blank rel="noopener noreferrer">Bouncing Balls<i class="fas fa-external-link-square-alt ms-1"></i></a>示例项目。</p><p>你可以使用下面列举的listener（监听器）监听动画执行过程中的重要事件：</p><ul><li>Animator.AnimatorListener<ul><li>onAnimationStart() - 当动画开始执行时回调。</li><li>onAnimationEnd() - 当动画结束的时候回调。</li><li>onAnimationRepeat() - 当动画重复的时候回调。</li><li>onAnimationCancel() - 当动画被取消的时候回调。无论动画是怎么被结束，即使是被取消的动画，同时也会回调onAnimationEnd()方法。</li></ul></li><li>ValueAnimator.AnimatorUpdateListener<ul><li>onAnimationUpdate() - 动画的每一次帧刷新都会回调。监听这个事件是为了在动画执行过程中使用ValueAnimator计算出来的值。为了使用这些值，需要借用这个回调方法带过来的参数——ValueAnimator实例对象，使用ValueAnimator.getAnimatedValue()方法获取当前动画状态对应的动画值。如果你是直接使用ValueAnimator来实现属性动画，那么你就需要实现这个方法。取决于你设定动画的属性或者对象，你可能需要调用View的<strong>invalidate()</strong> 方法来强制屏幕重新绘制属性值有更新的目标对象。你可以在onAnimationUpdate()回调方法中执行这些操作。例如，要执行一个Drawable对象的颜色属性动画，它只会在屏幕重新绘制这个对象后才能看到颜色动画效果。View对象每一个属性的setter方法，例如setAlpha()和setTranslationX()方法都会自动调用invalidate()来刷新View的属性，因此，当调用这些方法给View设定新的属性值时，不需要调用invalidate()方法。更多关于监听器的细节，请参考下面<strong>动画监听器</strong>章节。</li></ul></li></ul><p>如果你不想实现Animator.AnimatorListener接口中的每一个方法，那么你可以选择继承AnimatorListenerAdapter类来取代直接实现Animator.AnimatorListener接口。AnimatorListenerAdapter类提供了Animator.AnimatorListener接口中每一个方法的空实现，你可以有选择的重写其中几个。</p><p>例如，在<a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/BouncingBalls.html target=_blank rel="noopener noreferrer">Bouncing Balls<i class="fas fa-external-link-square-alt ms-1"></i></a>示例项目中创建了一个仅仅重写onAnimationEnd()回调方法的AnimatorListenerAdapter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ValueAnimatorAnimator</span> <span class=n>fadeAnim</span> <span class=o>=</span> <span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>newBall</span><span class=o>,</span> <span class=s>&#34;alpha&#34;</span><span class=o>,</span> <span class=mf>1f</span><span class=o>,</span> <span class=mf>0f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>fadeAnim</span><span class=o>.</span><span class=na>setDuration</span><span class=o>(</span><span class=mi>250</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>fadeAnim</span><span class=o>.</span><span class=na>addListener</span><span class=o>(</span><span class=k>new</span> <span class=n>AnimatorListenerAdapter</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>onAnimationEnd</span><span class=o>(</span><span class=n>Animator</span> <span class=n>animation</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>balls</span><span class=o>.</span><span class=na>remove</span><span class=o>(((</span><span class=n>ObjectAnimator</span><span class=o>)</span><span class=n>animation</span><span class=o>).</span><span class=na>getTarget</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>属性动画系统提供了为ViewGroup对象设定布局动画的功能，这些功能使用起来的效果就像直接为布局中的子View设定动画一样。</p><p>你可以使用<strong>LayoutTransition</strong>类来为ViewGroup内部对象的改变过程设定动画。当你在一个ViewGroup中添加或移除一个子View，又或者是使用View.setVisibility()给子view设定VISIBLE、INVISIBLE和GONE值，这个子view变化的过程都可以添加显示和消失动画。当你添加或者移除子view的时候，剩余的子view一样也可以使用动画移动到新的位置上。你可以在LayoutTransition对象的**setAnimator()**方法中设定这些动画，这个方法需要传入一个Animator对象和下面列举的一个LayoutTransition常量作为参数值：</p><ul><li><strong>APPEARING</strong> - 这个标识表明设定的动画要在子view从视图容器中显示出来的过程中执行。</li><li><strong>CHANGE_APPEARING</strong> - 这个标识表明设定的动画要在视图容器中原有的子View由于要显示其它子View而引起自身布局变化时执行。</li><li><strong>DISAPPEARING</strong> - 这个标识表明设定的动画要在子View从视图容器中消失的时候执行。</li><li><strong>CHANGE_DISAPPEARING</strong> - 这个标识表明设定的动画要在视图容器中的子view由于其它子view的小时而引起自身布局变化的时候执行。</li></ul><p>你可以为你的布局过渡定义上面四种事件类型的自定义动画，也可以让动画系统直接使用默认的动画。</p><p><a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/LayoutAnimations.html target=_blank rel="noopener noreferrer">LayoutAnimations<i class="fas fa-external-link-square-alt ms-1"></i></a>示例项目中介绍了如何为布局过渡定义动画，以及如何把动画设定到View对象上面。</p><p><a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/LayoutAnimationsByDefault.html target=_blank rel="noopener noreferrer">LayoutAnimationsByDefault<i class="fas fa-external-link-square-alt ms-1"></i></a>示例项目和它的layout_animations_by_default.xml布局文件介绍了如何在xml文件中为ViewGroup开启默认的布局动画。你唯一需要做的事情就是讲ViewGroup的<strong>android:animationLayoutChanges</strong>属性设置为true。例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;LinearLayout</span>
</span></span><span class=line><span class=cl>    <span class=na>android:orientation=</span><span class=s>&#34;vertical&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:id=</span><span class=s>&#34;@+id/verticalContainer&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:animateLayoutChanges=</span><span class=s>&#34;true&#34;</span> <span class=nt>/&gt;</span>
</span></span></code></pre></div><p>将这个属性设置为true之后，ViewGroup中的添加或者移除子View都会有动画效果，同时仍然保留在ViewGroup中的View在这个过程中也会有动画过度效果。</p><p>如果你要给一个android系统未支持的类型添加动画，你可以通过实现TypeEvaluator接口来创建一个自定义计算器。android系统已支持的类型包括int、float、颜色值，它们分别通过IntEvaluator、FloatEvaluator和ArgbEvaluator计算器来实现动画支持。</p><p>TypeEvaluator接口中只包含了一个方法evaluate()。这个方法允许你根据动画当前的执行进度点返回一个合适的属性值。FloatEvaluator实现这个过程的代码如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FloatEvaluator</span> <span class=kd>implements</span> <span class=n>TypeEvaluator</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Object</span> <span class=nf>evaluate</span><span class=o>(</span><span class=kt>float</span> <span class=n>fraction</span><span class=o>,</span> <span class=n>Object</span> <span class=n>startValue</span><span class=o>,</span> <span class=n>Object</span> <span class=n>endValue</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>startFloat</span> <span class=o>=</span> <span class=o>((</span><span class=n>Number</span><span class=o>)</span> <span class=n>startValue</span><span class=o>).</span><span class=na>floatValue</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>startFloat</span> <span class=o>+</span> <span class=n>fraction</span> <span class=o>*</span> <span class=o>(((</span><span class=n>Number</span><span class=o>)</span> <span class=n>endValue</span><span class=o>).</span><span class=na>floatValue</span><span class=o>()</span> <span class=o>-</span> <span class=n>startFloat</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><blockquote><p>注意：当ValueAnimator（或者ObjectAnimator）运行的过程中，它会计算当前动画已消耗的时间比例（一个0到1之间的值），然后再根据你使用的插值器计算出一个插值比例。这个插值比例就是就是你在TypeEvaluator.evaluate()方法中接收到的fraction参数，因此你不需要在计算动画属性值的时候关心如何计算插值。</p></blockquote><p>插值器定义了动画在运行过程中属性值的时间函数。例如，你可以让动画在整个执行过程中线性过度，这意味着动画在整段时间里面都做匀速运动。你也可以设定动画非线性过度，例如，在动画开始的时候加速，在动画结束的时候减速。</p><p>在动画系统中，插值器会从Animator接收到一个代表从动画开始到目前已花费的时间比例值。插值器会整合动画的类型去修改这个比例值。android在android.view.animation包中提供了一系列通用的插值器。如果你在里面没有找到你想要的插值器，你可以实现TimeInterpolator接口来自定义一个插值器。</p><p>作为例子，下面比较了默认的AccelerateDecelerateInterpolator和LinearInterpolator插值器是如何计算插值比例的。LinearInterpolator插值器没有对已消耗的时间比例进行修改。AccelerateDecelerateInterpolator插值器在开始的时候调整加大已消耗的时间比例，在结束的时候降低已消耗的时间比例。下面的代码列举了这些插值器的逻辑：</p><p><strong>AccelerateDecelerateInterpolator</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kt>float</span> <span class=nf>getInterpolation</span><span class=o>(</span><span class=kt>float</span> <span class=n>input</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>(</span><span class=kt>float</span><span class=o>)(</span><span class=n>Math</span><span class=o>.</span><span class=na>cos</span><span class=o>((</span><span class=n>input</span> <span class=o>+</span> <span class=mi>1</span><span class=o>)</span> <span class=o>*</span> <span class=n>Math</span><span class=o>.</span><span class=na>PI</span><span class=o>)</span> <span class=o>/</span> <span class=mf>2.0f</span><span class=o>)</span> <span class=o>+</span> <span class=mf>0.5f</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>LinearInterpolator</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kt>float</span> <span class=nf>getInterpolation</span><span class=o>(</span><span class=kt>float</span> <span class=n>input</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>input</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>下面的表格列举了一个耗时1000毫秒的动画在执行过程中使用这些插值器计算出来的大概值：</p><table><thead><tr><th>已消耗的时间（ms）</th><th>已消耗的时间比例/线性插值比例</th><th>（加速/减速）插值比例</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>200</td><td>0.2</td><td>0.1</td></tr><tr><td>400</td><td>0.4</td><td>0.345</td></tr><tr><td>600</td><td>0.6</td><td>0.8</td></tr><tr><td>800</td><td>0.8</td><td>0.9</td></tr><tr><td>100</td><td>1</td><td>1</td></tr><tr><td></td><td></td><td></td></tr><tr><td>正如表格所描述的，LinearInterpolator在每个时间段里面修改的插值都是一样，即每过200毫秒增加0.2。AccelerateDecelerateInterpolator从200毫秒到600毫秒之间修改的插值比LinearInterpolator快，在600毫秒到1000毫秒之间又比LinearInterpolator慢。</td><td></td><td></td></tr></tbody></table><p><strong>Keyframe</strong>对象中包含了一对时间与属性值的键值对，它定义了一个动画在指定的时间点上要呈现出特定的状态。每一个Keyframe都可以设定自己的插值器，用来控制动画从上一个Keyframe到当前这个Keyframe这段时间间隔里面的行为。</p><p>获取一个Keyframe实例对象，你必须选择一个Keyframe的ofInt()、ofFloat()，或者ofObject()工厂方法来构造一个合适的Keyframe对象。然后，再调用<strong>ofKeyframe()<strong>方法生成一个</strong>PropertyValuesHolder</strong>对象。一旦你生成了而这个对象，你就可以将这个PropertyValuesHolder对象以及需要设定动画的对象作为参数生成一个Animator。下面的代码片段演示了这个过程：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Keyframe</span> <span class=n>kf0</span> <span class=o>=</span> <span class=n>Keyframe</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=mf>0f</span><span class=o>,</span> <span class=mf>0f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>Keyframe</span> <span class=n>kf1</span> <span class=o>=</span> <span class=n>Keyframe</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=mf>.5f</span><span class=o>,</span> <span class=mi>360</span><span class=n>f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>Keyframe</span> <span class=n>kf2</span> <span class=o>=</span> <span class=n>Keyframe</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=mf>1f</span><span class=o>,</span> <span class=mf>0f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>PropertyValuesHolder</span> <span class=n>pvhRotation</span> <span class=o>=</span> <span class=n>PropertyValuesHolder</span><span class=o>.</span><span class=na>ofKeyframe</span><span class=o>(</span><span class=s>&#34;rotation&#34;</span><span class=o>,</span> <span class=n>kf0</span><span class=o>,</span> <span class=n>kf1</span><span class=o>,</span> <span class=n>kf2</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>ObjectAnimator</span> <span class=n>rotationAnim</span> <span class=o>=</span> <span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofPropertyValuesHolder</span><span class=o>(</span><span class=n>target</span><span class=o>,</span> <span class=n>pvhRotation</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=n>rotationAnim</span><span class=o>.</span><span class=na>setDuration</span><span class=o>(</span><span class=mi>5000</span><span class=n>ms</span><span class=o>);</span>
</span></span></code></pre></div><p>更多关于使用关键帧的复杂示例，请查看<a href=https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/animation/MultiPropertyAnimation.html target=_blank rel="noopener noreferrer">MultiPropertyAnimation<i class="fas fa-external-link-square-alt ms-1"></i></a>示例项目。</p><p>属性动画系统允许为View对象设定流线型的动画，并且提供了一些比视图动画系统更加高级的功能。视图动画系统是通过修改View的绘制位置来改变View对象。这些操作是在每个View的容器中进行处理的，因为View本身并没有可以执行这类操作的属性。这就会导致View已经开始动画了，但是View对象本身并没有任何变化。整个过程看起来就像是View对象已经被绘制到屏幕上面的另一个位置，但它实际上还是在原来的位置上。从android 3.0开始，View类添加了新的属性以及对应的getter和setter方法，以解决这个缺陷。</p><p>属性动画系统可以通过直接修改View对象的实际属性来完成它在屏幕上的动画效果。另外，当View的属性有变化的时候，它也会自动调用**invalidate()**方法刷新屏幕。View类中支持属性动画的新属性如下：</p><ul><li><strong>translationX</strong>和<strong>translationY</strong>：这两个属性以布局容器给View的left和top坐标值为基准，控制View在横竖方向上需要移动位置的增量值。</li><li><strong>rotation</strong>、<strong>rotationX</strong>和<strong>rotationY</strong>：这三个属性以View的中心点为基准，控制view在2D视觉（rotation属性）和3D视觉上的旋转。</li><li><strong>scaleX</strong>和<strong>scaleY</strong>：这两个属性以View中心点为基准，控制View在2D视觉上的大小缩放。</li><li><strong>pivotX</strong>和<strong>pivotY</strong>：这两个属性控制View对象的中心点，当View进行旋转或者缩放的时候需要依赖这个中心点的位置。默认情况下，中心点的位置在View对象的中心。</li><li><strong>x</strong>和<strong>y</strong>：这两个属性描述了View在它所在的视图容器中的最终位置，可以看做是left或者top和translationX或者translationY值的和。</li><li><strong>alpha</strong>：代表View的透明度。默认值为1，表示不透明，当值为0时即为完全透明（不显示）。</li></ul><p>给View对象的属性设定动画，例如它的颜色或者旋转值，你需要做的只是创建一个属性的Animator，然后指定需要设定动画的属性。例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>myView</span><span class=o>,</span> <span class=s>&#34;rotation&#34;</span><span class=o>,</span> <span class=mf>0f</span><span class=o>,</span> <span class=mi>360</span><span class=n>f</span><span class=o>);</span>
</span></span></code></pre></div><p>更多关于创建动画的细节，请参考上面<strong>使用ValueAnimator设定动画</strong>和<strong>使用ObjectAnimator设定动画</strong>章节。</p><p><strong>ViewPropertyAnimator</strong>底层封装了一个Animator对象，提供了一种简单的途径来给View的多个属性值同时设置动画。它的操作与ObjectAnimator很类似，因为它也是直接修改view的属性值，不同的是它能够一次操作多个属性值。此外，使用ViewPropertyAnimator的代码会更加简洁和易读。下面的代码片段比较了同时给view的x和y属性设定动画时，使用多个ObjectAnimator对象、使用一个ObjectAnimator对象，以及使用ViewPropertyAnimator对象之间的区别。</p><p><strong>多个ObjectAnimator对象</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ObjectAnimator</span> <span class=n>animX</span> <span class=o>=</span> <span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>myView</span><span class=o>,</span> <span class=s>&#34;x&#34;</span><span class=o>,</span> <span class=mi>50</span><span class=n>f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>ObjectAnimator</span> <span class=n>animY</span> <span class=o>=</span> <span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=n>myView</span><span class=o>,</span> <span class=s>&#34;y&#34;</span><span class=o>,</span> <span class=mi>100</span><span class=n>f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>AnimatorSet</span> <span class=n>animSetXY</span> <span class=o>=</span> <span class=k>new</span> <span class=n>AnimatorSet</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>animSetXY</span><span class=o>.</span><span class=na>playTogether</span><span class=o>(</span><span class=n>animX</span><span class=o>,</span> <span class=n>animY</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>animSetXY</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p><strong>一个ObjectAnimator对象</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>PropertyValuesHolder</span> <span class=n>pvhX</span> <span class=o>=</span> <span class=n>PropertyValuesHolder</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=s>&#34;x&#34;</span><span class=o>,</span> <span class=mi>50</span><span class=n>f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>PropertyValuesHolder</span> <span class=n>pvhY</span> <span class=o>=</span> <span class=n>PropertyValuesHolder</span><span class=o>.</span><span class=na>ofFloat</span><span class=o>(</span><span class=s>&#34;y&#34;</span><span class=o>,</span> <span class=mi>100</span><span class=n>f</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>ObjectAnimator</span><span class=o>.</span><span class=na>ofPropertyValuesHolder</span><span class=o>(</span><span class=n>myView</span><span class=o>,</span> <span class=n>pvhX</span><span class=o>,</span> <span class=n>pvyY</span><span class=o>).</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p><strong>ViewPropertyAnimator</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>myView</span><span class=o>.</span><span class=na>animate</span><span class=o>().</span><span class=na>x</span><span class=o>(</span><span class=mi>50</span><span class=n>f</span><span class=o>).</span><span class=na>y</span><span class=o>(</span><span class=mi>100</span><span class=n>f</span><span class=o>);</span>
</span></span></code></pre></div><p>更多关于<strong>ViewPropertyAnimator</strong>的信息，请参考Android Developers的<a href=http://android-developers.blogspot.com/2011/05/introducing-viewpropertyanimator.html target=_blank rel="noopener noreferrer">博客<i class="fas fa-external-link-square-alt ms-1"></i></a>.</p><p>属性动画系统允许你不直接写代码而使用xml来声明定义属性动画。通过在xml文件中定义动画，可以让动画更容易在多个activity中重复使用，也能让编辑动画序列更加容易。</p><p>为了区分使用了新属性动画API的动画文件和旧视图动画框架的动画文件，从android 3.1开始，你必须将使用属性动画的xml文件保存在__res/animator/__文件夹下。</p><p>下面列举了属性动画类对应的xml标签：</p><ul><li>ValueAnimator - &lt;animator></li><li>ObjectAnimator - &lt;objectAnimator></li><li>AnimatorSet - &lt;set></li></ul><p>下面的示例顺序顺序执行两个动画组，第一个内嵌的动画组同时执行两个ObjectAnimator动画：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;set</span> <span class=na>android:ordering=</span><span class=s>&#34;sequentially&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;set&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;objectAnimator</span>
</span></span><span class=line><span class=cl>            <span class=na>android:propertyName=</span><span class=s>&#34;x&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:duration=</span><span class=s>&#34;500&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:valueTo=</span><span class=s>&#34;400&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:valueType=</span><span class=s>&#34;intType&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;objectAnimator</span>
</span></span><span class=line><span class=cl>            <span class=na>android:propertyName=</span><span class=s>&#34;y&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:duration=</span><span class=s>&#34;500&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:valueTo=</span><span class=s>&#34;300&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:valueType=</span><span class=s>&#34;intType&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/set&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;objectAnimator</span>
</span></span><span class=line><span class=cl>        <span class=na>android:propertyName=</span><span class=s>&#34;alpha&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:duration=</span><span class=s>&#34;500&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:valueTo=</span><span class=s>&#34;1f&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/set&gt;</span>
</span></span></code></pre></div><p>为了执行这个动画，你需要在你的代码中把xml动画资源实例化为AnimatorSet对象，然后在开始动画之前设定动画的目标对象。可以简单的调用**setTarget()**方法给一个目标对象设定AnimatorSet中的全部子动画。代码如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>AnimatorSet</span> <span class=n>set</span> <span class=o>=</span> <span class=o>(</span><span class=n>AnimatorSet</span><span class=o>)</span> <span class=n>AnimatorInflater</span><span class=o>.</span><span class=na>loadAnimator</span><span class=o>(</span><span class=n>myContext</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=n>R</span><span class=o>.</span><span class=na>anim</span><span class=o>.</span><span class=na>property_animator</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>set</span><span class=o>.</span><span class=na>setTarget</span><span class=o>(</span><span class=n>myObject</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>set</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span></code></pre></div><p>更多关于定义属性动画的xml语法，请参考<a href=https://developer.android.com/guide/topics/resources/animation-resource.html#Property target=_blank rel="noopener noreferrer">Animation Resources<i class="fas fa-external-link-square-alt ms-1"></i></a>。</p></div><div class="modal fade" id=rewardModal tabindex=-1 aria-labelledby=rewardModalLabel aria-hidden=true><div class=modal-dialog><div class="modal-content surface"><div class=modal-header><h5 class="modal-title text-surface" id=rewardModalLabel><i class="fas fa-fw fa-coffee me-1"></i>打赏</h5><a href=# data-bs-dismiss=modal class=btn-close aria-label=Close></a></div><div class=modal-body><ul class="nav nav-tabs mb-3" role=tablist><li class="nav-item text-nowrap" role=presentation><a class="nav-link active" id=reward-alipay-tab data-bs-toggle=tab href=#reward-alipay role=tab aria-controls=reward-alipay aria-selected=true><i class="fab fa-fw fa-alipay me-1"></i>支付宝</a></li><li class="nav-item text-nowrap" role=presentation><a class=nav-link id=reward-wechat-tab data-bs-toggle=tab href=#reward-wechat role=tab aria-controls=reward-wechat aria-selected=true><i class="fab fa-fw fa-weixin me-1"></i>微信</a></li></ul><div class=tab-content id=rewardTabContent><div class="tab-pane fade post-reward-content text-center show active" id=reward-alipay role=tabpanel aria-labelledby=reward-alipay-tab><img class="img-fluid post-reward-img" src=https://www.qinxiandiqi.sbs/images/reward/alipay.jpg loading=lazy data-viewer-invisible></div><div class="tab-pane fade post-reward-content text-center show" id=reward-wechat role=tabpanel aria-labelledby=reward-wechat-tab><img class="img-fluid post-reward-img" src=https://www.qinxiandiqi.sbs/images/reward/wechat.png loading=lazy data-viewer-invisible></div></div></div></div></div></div></div><div class=card-footer><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-down post-prev-icon me-1" data-fa-transform=rotate-90></i>
<a href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%AE%9A%E4%BD%8D%E7%AD%96%E7%95%A5/>Android的定位策略</a></div><div class="post-nav post-next"><a href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7/>Android的进程优先级</a>
<i class="fas fa-fw fa-chevron-down post-next-icon ms-1" data-fa-transform=rotate-270></i></div></div></div></article><div class="post-copyright mb-3 row card component" id=post-copyright><div class=card-header><h2 class="card-title fs-4 my-2 text-surface">版权</h2></div><div class=card-body><a class="d-flex align-items-center flex-column" target=_blank rel="license noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh><span><i class="fab fa-fw fa-2x fa-creative-commons"></i><i class="fab fa-fw fa-2x fa-creative-commons-by"></i><i class="fab fa-fw fa-2x fa-creative-commons-nc"></i><i class="fab fa-fw fa-2x fa-creative-commons-nd"></i></span>
CC BY-NC-ND 4.0</a></div></div><section class="related-posts row card component"><div class=card-header><h2 class="card-title fs-4 my-2 text-surface">相关文章</h2></div><div class=card-body><ul class="post-list list-unstyled"><li class="mb-3 border-bottom"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%AE%9A%E4%BD%8D%E7%AD%96%E7%95%A5/>Android的定位策略</a>
<span class="post-meta post-date float-end">2016-06-17</span><div class="post-summary my-3"><p>获取用户的地理位置信息能够让你的应用程序显得更加智能，借此能够分发更合适的信息给用户。为android开发地理位置相关的应用程序，你可以利用GPS或者android的网络定位数据源来获取用户的地理位置。尽管GPS的定位更加精准，但它只适用于户外，并且还会更快的消耗电量，它也不能按用户所期待的及时返回地理位置信息。android的网络定位数据源是通过使用手机信号塔和WiFi信号来获取用户的地理位置信息，不管是在室内还是</p><div><a class="btn btn-sm btn-outline-primary btn-read-more" href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%AE%9A%E4%BD%8D%E7%AD%96%E7%95%A5/>阅读更多</a></div></div></li><li class="mb-3 border-bottom"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/android%E6%9D%83%E9%99%90%E7%9A%84%E6%9C%80%E4%BD%B3%E8%BF%90%E7%94%A8/>Android权限的最佳运用</a>
<span class="post-meta post-date float-end">2016-06-16</span><div class="post-summary my-3"><p>app的权限请求很容易让用户反感。当用户觉得一个app用起来很麻烦，或者觉得这个app不知道要拿用户的信息去做什么事情时，用户可能会避免使用甚至是完全卸载掉这个app。下面的权限最佳运用方式能够帮助你避免这些糟糕的用户体验。</p><div><a class="btn btn-sm btn-outline-primary btn-read-more" href=https://www.qinxiandiqi.sbs/posts/android/android%E6%9D%83%E9%99%90%E7%9A%84%E6%9C%80%E4%BD%B3%E8%BF%90%E7%94%A8/>阅读更多</a></div></div></li><li class="mb-3 border-bottom"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/app%E5%9C%A8android6.0%E6%88%96%E4%BB%A5%E4%B8%8A%E5%B9%B3%E5%8F%B0%E7%89%88%E6%9C%AC%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%AF%B7%E6%B1%82%E6%9D%83%E9%99%90/>App在android 6.0或以上平台版本运行过程中请求权限</a>
<span class="post-meta post-date float-end">2016-05-04</span><div class="post-summary my-3"><p>从android 6.0（API 23）开始，安装app时不需要对app的权限申请进行授权，而是在app运行的时候，用户才需要对app进行授权。这种流程精简了app的安装过程，用户不需要在安装或者升级app的时候进行授权操作。这同样也给了用户更多对app功能的控制能力；例如，用户可以选择给一个照相app访问摄像头的权限，但不给它访问设备地理位置的权限。用户也可以通过app的设置界面，随时撤销对app授予的权限。</p><div><a class="btn btn-sm btn-outline-primary btn-read-more" href=https://www.qinxiandiqi.sbs/posts/android/app%E5%9C%A8android6.0%E6%88%96%E4%BB%A5%E4%B8%8A%E5%B9%B3%E5%8F%B0%E7%89%88%E6%9C%AC%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%AF%B7%E6%B1%82%E6%9D%83%E9%99%90/>阅读更多</a></div></div></li><li class="mb-3 border-bottom"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E6%9D%83%E9%99%90%E5%A3%B0%E6%98%8E/>Android的权限声明</a>
<span class="post-meta post-date float-end">2016-04-28</span><div class="post-summary my-3"><p>每一个android app都运行在一个限制访问的沙盒中。如果一个app需要访问它所在沙盒之外的资源和信息，那么这个app就需要声明适当的权限。这个权限声明要求将你的app需要的权限全部列举在App的manifest文件中。 根据权限不同的隐私敏感程度级别，系统可能会自动授予该权限，也有可能需要请求设备用户授权才能获取该权限。例如，如果你的app请求授予打开设备闪光灯的权限，系统将会自动授予这个权限。但是，如果你的a</p><div><a class="btn btn-sm btn-outline-primary btn-read-more" href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E6%9D%83%E9%99%90%E5%A3%B0%E6%98%8E/>阅读更多</a></div></div></li><li class="mb-3 border-bottom"><a class=post-title href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%B1%8F%E5%B9%95%E5%A4%9A%E6%A0%B7%E6%80%A7%E6%94%AF%E6%8C%81/>Android的屏幕多样性支持</a>
<span class="post-meta post-date float-end">2015-10-20</span><div class="post-summary my-3"><p>运行Android系统设备的屏幕尺寸和密度千变万化。然而对于应用程序来说，Android系统为所有设备提供了一个统一的开发环境，并且由系统处理了大部分应用程序界面与实际屏幕的适配工作。同时，系统也提供了相应的API允许你在特定的屏幕尺寸或屏幕密度上为你的应用程序UI做特定的调整，以便在不同配置的屏幕上优化你的UI。例如，你可能需要在平板和手机上显示不一样的UI效果。 尽管系统能够自动将你的应用程序UI通过缩放或重置</p><div><a class="btn btn-sm btn-outline-primary btn-read-more" href=https://www.qinxiandiqi.sbs/posts/android/android%E7%9A%84%E5%B1%8F%E5%B9%95%E5%A4%9A%E6%A0%B7%E6%80%A7%E6%94%AF%E6%8C%81/>阅读更多</a></div></div></li></ul></div></section><div class="card component row post-comments" id=post-comments><div class=card-header><h2 class="card-title my-2 fs-4 text-surface">评论</h2></div><div class=card-body><script src=https://utteranc.es/client.js repo=qinxiandiqi/qinxiandiqi.github.io issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></div></div></div></div></div></main><footer class="footer mt-auto py-3 text-center container"><div class="offcanvas offcanvas-bottom h-auto" tabindex=-1 id=offcanvasActionsPanel aria-labelledby=offcanvasActionsPanelLabel><div class=offcanvas-header><h5 class="offcanvas-title fs-4" id=offcanvasActionsPanelLabel><i class="fas fa-fw fa-th-large me-1"></i>
操作</h5><button type=button class="btn-close ms-auto" data-bs-dismiss=offcanvas data-bs-target=offcanvasActionsPanel aria-label=Close></button></div><div class="offcanvas-body mt-2"><div class="social-share mb-4 d-flex overflow-auto"><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Twitter Share Button" target=_blank href="https://twitter.com/intent/tweet?title=android%e7%9a%84%e5%b1%9e%e6%80%a7%e5%8a%a8%e7%94%bb&url=https%3a%2f%2fwww.qinxiandiqi.sbs%2fposts%2fandroid%2fandroid%25E7%259A%2584%25E5%25B1%259E%25E6%2580%25A7%25E5%258A%25A8%25E7%2594%25BB%2f"><i class="fab fa-2x fa-fw fa-twitter mb-2"></i> Twitter</a>
<a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.qinxiandiqi.sbs%2fposts%2fandroid%2fandroid%25E7%259A%2584%25E5%25B1%259E%25E6%2580%25A7%25E5%258A%25A8%25E7%2594%25BB%2f"><i class="fab fa-2x fa-fw fa-facebook-f mb-2"></i> Facebook</a></div><hr class=mb-4><div class="actions d-flex overflow-auto align-items-center"><a role=button class="action action-go-back d-flex flex-column align-items-center me-3" href="javascript: window.history.back();"><span class="action-icon mb-2"><i class="fas fa-2x fa-chevron-circle-down" data-fa-transform=rotate-90></i></span> 返回</a>
<a role=button class="action action-reload-page d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-redo-alt"></i></span> 刷新</a>
<a role=button class="action action-copy-url d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-link"></i></span> 复制链接</a></div></div></div><ul class="nav justify-content-between footer-memu mb-3"><li class=nav-item><ul class="nav flex-column align-items-start"><li class=nav-item><a class="nav-link fw-bold fs-lg" href="javascript: void(0);">support</a></li><li class=nav-item><a class=nav-link href=/contact/><i class="fas fa-fw fa-info-circle"></i>联系我</a></li></ul></li></ul><nav class="social-links nav justify-content-center mb-2"><a class="nav-link social-link" target=_blank href=https://space.bilibili.com/438403014 title=bilibili rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-bilibili"></i></a>
<a class="nav-link social-link" href=mailto:qinxiandiqi@foxmail.com title=Email><i class="fas fa-fw fa-2x fa-envelope"></i></a>
<a class="nav-link social-link" target=_blank href=https://facebook.com/qinxiandiqi title=Facebook rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-facebook-f"></i></a>
<a class="nav-link social-link" target=_blank href=https://github.com/qinxiandiqi title=GitHub rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-github"></i></a>
<a class="nav-link social-link" target=_blank href="http://wpa.qq.com/msgrd?v=3&uin=493059154&site=qq&menu=yes" title=QQ rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-qq"></i></a>
<a class="nav-link social-link" target=_blank href=https://twitter.com/qinxiandiqi title=Twitter rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-twitter"></i></a>
<a class="nav-link social-link" target=_blank href=https://weibo.com/qinxiandiqi title=Weibo rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-weibo"></i></a>
<a class="nav-link social-link" target=_blank href=https://www.zhihu.com/people/qinxiandiqi title=Zhihu rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-zhihu"></i></a>
<a class="nav-link social-link" target=_blank href=https://www.qinxiandiqi.sbs/index.xml title=RSS rel="noopener noreferrer"><i class="fas fa-fw fa-2x fa-rss"></i></a></nav><div class="copyright mb-2">Copyright © 2012-2023 Jianan. All Rights Reserved.</div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div class="copyright mb-2"><span id=busuanzi_container_site_uv>👤Total Visitors <span id=busuanzi_value_site_uv></span> |</span>
<span id=busuanzi_container_site_pv>👁️Total Views <span id=busuanzi_value_site_pv></span></span></div><div class="powered-by mb-2">Powered by <a class=text-primary href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a> and the <a class=text-primary href=https://github.com/razonyang/hugo-theme-bootstrap target=_blank rel="noopener noreferrer">HBS</a> theme.</div></footer><script data-precache src=https://www.qinxiandiqi.sbs/assets/main/bundle.min.cc8773db3c35cdf24d20cf483ec2dce6984225fbe0352a501767ef36fa465a07.js integrity="sha256-zIdz2zw1zfJNIM9IPsLc5phCJfvgNSpQF2fvNvpGWgc=" crossorigin=anonymous defer></script><script data-precache src=https://www.qinxiandiqi.sbs/assets/icons/bundle.min.5bb5cb12a3a6e1c29a7717b53c6da2776b629696a8603740880b4b02f46ccc11.js integrity="sha256-W7XLEqOm4cKadxe1PG2id2tilpaoYDdAiAtLAvRszBE=" crossorigin=anonymous defer></script>
<script data-precache src=https://www.qinxiandiqi.sbs/assets/viewer/bundle.min.0866ed96ba6267ca90d45399312388980c7bf8ddd8f980e8dc49ec37376b7b36.js integrity="sha256-CGbtlrpiZ8qQ1FOZMSOImAx7+N3Y+YDo3EnsNzdrezY=" crossorigin=anonymous defer></script><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("https://www.qinxiandiqi.sbs/service-worker.min.js").then(function(e){console.log("Successfully registered service worker",e)}).catch(function(e){console.warn("Error whilst registering service worker",e)})})</script></body></html>